<!doctype html>
    <html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
    <title>League Stats — Season to Date</title>
    <style>
      :root{
        --bg:#ffffff; --text:#111; --grid:#e5e7eb; --accent:#2563eb; --row:#f8fafc;
      }
      body{ font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background:var(--bg); color:var(--text); margin:24px; }
      h1{ margin:0 0 8px 0; font-size:22px; font-weight:700; }
      .meta{ color:#6b7280; margin-bottom:14px; }
      .toolbar{ display:flex; gap:12px; align-items:center; margin:12px 0 16px; }
      .search{ padding:8px 10px; border:1px solid var(--grid); border-radius:8px; width:260px; }
      .table-wrap{ border:1px solid var(--grid); border-radius:12px; overflow:auto; }
      table{ border-collapse:collapse; width:100%; min-width:920px; }
      thead th{
        position:sticky; top:0; background:#fff; z-index:2;
        font-weight:700; text-align:center; padding:10px 12px; border-bottom:1px solid var(--grid);
        cursor:pointer; user-select:none; white-space:nowrap;
      }
      tbody td{ padding:10px 12px; border-bottom:1px solid var(--grid); text-align:center; }
      tbody tr:nth-child(even){ background:var(--row); }
      .num{ text-align:center; font-variant-numeric: tabular-nums; }
      .sorted-asc::after{ content:" \25B2"; color:var(--accent); }
      .sorted-desc::after{ content:" \25BC"; color:var(--accent); }
      .badge{ background:#eef2ff; color:#3730a3; font-weight:600; padding:2px 8px; border-radius:999px; }
      .footer{ margin-top:10px; color:#6b7280; font-size:12px; }
      .sorted-secondary { color: #2563eb; opacity: 0.6; }
    </style>
    </head>
    <body>
      <h1>League Stats — Season to Date</h1>
      <div class="meta">
        Updated 2025-10-29 12:34
        &nbsp;•&nbsp; <span class="badge">sortable</span> <span class="badge">filterable</span>
      </div>
      <div class="toolbar">
        <input id="filter" class="search" placeholder="Filter teams…" />
      </div>
      
    <div class="table-wrap">
      <table id="stats">
        <thead>
          <tr><th data-col='0'>Team</th><th data-col='1'>Record</th><th data-col='2'>Win %</th><th data-col='3'>PF</th><th data-col='4'>PA</th><th data-col='5'>Average</th><th data-col='6'>Std Dev</th><th data-col='7'>Best Week (pts)</th><th data-col='8'>Worst Week (pts)</th></tr>
        </thead>
        <tbody>
          <tr><td>Caleb’s Casting Couch</td><td>1-7</td><td class="num">0.120</td><td class="num">978.46</td><td class="num">1128.36</td><td class="num">122.31</td><td class="num">23.22</td><td class="num">145.88</td><td class="num">76.24</td></tr><tr><td>Fifty Shades of Brown</td><td>4-4</td><td class="num">0.500</td><td class="num">1208.28</td><td class="num">1168.34</td><td class="num">151.04</td><td class="num">23.45</td><td class="num">181.34</td><td class="num">116.62</td></tr><tr><td>Hit the (Sa)Quon</td><td>4-4</td><td class="num">0.500</td><td class="num">1047.28</td><td class="num">1042.48</td><td class="num">130.91</td><td class="num">21.26</td><td class="num">161.32</td><td class="num">99.06</td></tr><tr><td>I Burrow in DD Kupps</td><td>6-2</td><td class="num">0.750</td><td class="num">1145.06</td><td class="num">1090.10</td><td class="num">143.13</td><td class="num">16.50</td><td class="num">165.74</td><td class="num">113.98</td></tr><tr><td>Make Kamaraca Great Again</td><td>4-4</td><td class="num">0.500</td><td class="num">989.68</td><td class="num">1030.88</td><td class="num">123.71</td><td class="num">9.97</td><td class="num">139.28</td><td class="num">112.34</td></tr><tr><td>Never (Jamar) Chase a Ho!</td><td>3-5</td><td class="num">0.380</td><td class="num">1056.94</td><td class="num">1004.40</td><td class="num">132.12</td><td class="num">26.39</td><td class="num">182.78</td><td class="num">95.20</td></tr><tr><td>Team Dai-Gurren</td><td>4-4</td><td class="num">0.500</td><td class="num">981.90</td><td class="num">1023.30</td><td class="num">122.74</td><td class="num">28.01</td><td class="num">149.20</td><td class="num">67.76</td></tr><tr><td>Trustfund QBs</td><td>4-4</td><td class="num">0.500</td><td class="num">1028.94</td><td class="num">1004.96</td><td class="num">128.62</td><td class="num">18.66</td><td class="num">168.56</td><td class="num">109.74</td></tr><tr><td>WaddSquadd</td><td>7-1</td><td class="num">0.880</td><td class="num">1196.88</td><td class="num">1039.84</td><td class="num">149.61</td><td class="num">15.76</td><td class="num">166.02</td><td class="num">122.48</td></tr><tr><td>chefsef</td><td>3-5</td><td class="num">0.380</td><td class="num">891.72</td><td class="num">992.48</td><td class="num">111.46</td><td class="num">18.25</td><td class="num">132.52</td><td class="num">79.30</td></tr>
        </tbody>
      </table>
    </div>
    
      <div class="footer">Click any header to sort (click again to reverse).</div>
    
    <script>
    (function () {
      const tbl = document.getElementById('stats');

      // Column indices in your header order:
      // 0 Team | 1 Record | 2 Win % | 3 PF | 4 PA | 5 Average | 6 Std Dev | 7 Best | 8 Worst
      const NUMERIC_COLS = new Set([2,3,4,5,6,7,8]);

      const getVal = (cell, idx) => {
        const t = cell.textContent.trim();
        if (!NUMERIC_COLS.has(idx)) return t.toLowerCase();
        const n = parseFloat(t.replace(/,/g,''));   // allow "1,234.56"
        return isNaN(n) ? -Infinity : n;
      };

      // sortSpec = [{col: 2, dir: -1}, {col: 3, dir: -1}, ...]
      let sortSpec = [];

      const applySort = () => {
        const tbody = tbl.tBodies[0];
        const rows = Array.from(tbody.querySelectorAll('tr'));

        rows.sort((a, b) => {
          for (const {col, dir} of sortSpec) {
            const A = getVal(a.children[col], col);
            const B = getVal(b.children[col], col);
            if (A < B) return -1 * dir;
            if (A > B) return  1 * dir;
          }
          return 0;
        });

        tbody.innerHTML = '';
        rows.forEach(r => tbody.appendChild(r));

        // header indicators: show arrow only for primary column
        tbl.querySelectorAll('th').forEach(th => th.classList.remove('sorted-asc','sorted-desc','sorted-secondary'));
        if (sortSpec.length) {
          const primary = sortSpec[0];
          const th = tbl.tHead.rows[0].children[primary.col];
          th.classList.add(primary.dir === 1 ? 'sorted-asc' : 'sorted-desc');
          // light mark on secondary columns
          for (let i=1; i<sortSpec.length; i++){
            tbl.tHead.rows[0].children[sortSpec[i].col].classList.add('sorted-secondary');
          }
        }
      };

      const toggleSort = (col, additive=false) => {
        // dir:  1 = asc, -1 = desc
        if (!additive) sortSpec = [];
        const i = sortSpec.findIndex(s => s.col === col);
        if (i === -1) {
          // default numeric desc, text asc
          const dir = NUMERIC_COLS.has(col) ? -1 : 1;
          sortSpec.push({col, dir});
        } else {
          // cycle: desc -> asc -> remove
          const cur = sortSpec[i];
          cur.dir = cur.dir === -1 ? 1 : null;
          if (cur.dir === null) sortSpec.splice(i, 1);
        }
        applySort();
      };

      // Click = single sort; Shift+Click = add/remove as secondary
      tbl.tHead.addEventListener('click', (e) => {
        if (e.target.tagName !== 'TH') return;
        const col = parseInt(e.target.getAttribute('data-col'));
        toggleSort(col, e.shiftKey);
      });

      // DEFAULT ORDER on load: Win % (desc), then PF (desc)
      sortSpec = [{col: 2, dir: -1}, {col: 3, dir: -1}];
      applySort();
    })();
    </script>
    </body></html>